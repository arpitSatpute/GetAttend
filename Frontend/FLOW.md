# GeoAttend - Complete Application Flow Documentation

## ğŸ“Š System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GEOATTEND SYSTEM ARCHITECTURE                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MOBILE APP (FRONTEND)     â”‚
â”‚  React Native + Expo        â”‚
â”‚  (iOS/Android/Web)          â”‚
â”‚                             â”‚
â”‚  â€¢ Authentication           â”‚
â”‚  â€¢ Location Tracking        â”‚
â”‚  â€¢ Attendance Management    â”‚
â”‚  â€¢ Geofence Management      â”‚
â”‚  â€¢ Analytics & Reports      â”‚
â”‚  â€¢ Notifications            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTP/REST API
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BACKEND API SERVER        â”‚
â”‚  Node.js/Express            â”‚
â”‚  (or Django/FastAPI)        â”‚
â”‚                             â”‚
â”‚  â€¢ Authentication Routes    â”‚
â”‚  â€¢ Attendance Routes        â”‚
â”‚  â€¢ Geofence Routes          â”‚
â”‚  â€¢ Analytics Routes         â”‚
â”‚  â€¢ User Routes              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Database Query
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MONGODB DATABASE         â”‚
â”‚  Document-based Storage     â”‚
â”‚                             â”‚
â”‚  â€¢ Users Collection         â”‚
â”‚  â€¢ Attendance Collection    â”‚
â”‚  â€¢ Geofences Collection     â”‚
â”‚  â€¢ Notifications Collection â”‚
â”‚  â€¢ Analytics Collection     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

### **User Registration â†’ Login â†’ Dashboard**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Opens  â”‚
â”‚  Welcome App â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Welcome Screen       â”‚
â”‚ â€¢ Sign Up Button     â”‚
â”‚ â€¢ Login Button       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â†’ [SIGN UP] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                                         â”‚
       â†“                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚ Signup Screen        â”‚                                         â”‚
â”‚ Form Input:          â”‚                                         â”‚
â”‚ â€¢ First Name         â”‚                                         â”‚
â”‚ â€¢ Last Name          â”‚                                         â”‚
â”‚ â€¢ Email              â”‚                                         â”‚
â”‚ â€¢ Password           â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
       â”‚                                                         â”‚
       â†“                                                         â†“
   FRONTEND              API SERVER                       MONGODB
   â”Œâ”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Form â”‚â”€â”€POSTâ”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ POST     â”‚
   â”‚Data â”‚ /auth/signup  â”‚ /signup  â”‚â”€â”€â”
   â””â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â†‘                              â”‚
       â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚ Validate Email &   â”‚
       â”‚                    â”‚ Password           â”‚
       â”‚                    â”‚ Hash Password      â”‚
       â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚ Create User Doc   â”‚
       â”‚                    â”‚ in MongoDB        â”‚
       â”‚                    â”‚                   â”‚
       â”‚                    â”‚ users {           â”‚
       â”‚                    â”‚   _id: ObjectId   â”‚
       â”‚                    â”‚   firstName       â”‚
       â”‚                    â”‚   lastName        â”‚
       â”‚                    â”‚   email           â”‚
       â”‚                    â”‚   password (hash) â”‚
       â”‚                    â”‚   createdAt       â”‚
       â”‚                    â”‚ }                 â”‚
       â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                             â”‚
       â”‚â†â”€â”€â”€â”€Responseâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚  { success: true }
       â”‚
       â”œâ”€â†’ [LOGIN] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                                         â”‚
       â†“                                                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚ Login Screen         â”‚                                         â”‚
â”‚ Form Input:          â”‚                                         â”‚
â”‚ â€¢ Email              â”‚                                         â”‚
â”‚ â€¢ Password           â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
       â”‚                                                         â”‚
       â†“                                                         â†“
   FRONTEND              API SERVER                       MONGODB
   â”Œâ”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Email â”‚â”€POSTâ”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ POST       â”‚
   â”‚Pass  â”‚ /auth/login  â”‚ /login     â”‚â”€â”€â”
   â””â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â†‘                                 â”‚
       â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                       â”‚ Find User by Email â”‚
       â”‚                       â”‚ in MongoDB         â”‚
       â”‚                       â”‚                   â”‚
       â”‚                       â”‚ db.users.findOne  â”‚
       â”‚                       â”‚ ({ email })       â”‚
       â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                â”‚
       â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                       â”‚ Verify Password   â”‚
       â”‚                       â”‚ Compare hash      â”‚
       â”‚                       â”‚ Match? YES/NO     â”‚
       â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                â”‚
       â”‚                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                       â”‚ Generate JWT      â”‚
       â”‚                       â”‚ Token             â”‚
       â”‚                       â”‚ {                 â”‚
       â”‚                       â”‚   userId,         â”‚
       â”‚                       â”‚   exp: time       â”‚
       â”‚                       â”‚ }                 â”‚
       â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                â”‚
       â”‚â†â”€â”€â”€â”€Responseâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚  {
       â”‚    success: true,
       â”‚    token: "JWT_TOKEN",
       â”‚    user: { id, name, email }
       â”‚  }
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Store JWT in        â”‚
â”‚ SecureStore/Context â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DASHBOARD SCREEN    â”‚
â”‚ (Authenticated)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Location & Geofence Management Flow

### **Get Current Location â†’ Check Geofence â†’ Auto Check-In/Out**

```
APP RUNNING (Background/Foreground)
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPS Location Service    â”‚
â”‚ expo-location library   â”‚
â”‚                         â”‚
â”‚ â€¢ Watch Position        â”‚
â”‚ â€¢ Update Every 10-30s   â”‚
â”‚ â€¢ Get Coordinates       â”‚
â”‚ â€¢ Get Accuracy          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ CONTINUOUS LOCATION UPDATES
        [Location Data]
        {
          latitude,
          longitude,
          accuracy,
          altitude,
          speed,
          heading
        }
             â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                  â”‚
        â†“ (Frontend Only)                â†“ (Optional â†’ Backend)
        â”‚                                  â”‚
   UPDATE                            SEND TO SERVER
   CONTEXT                           (Optional real-time)
        â”‚                                  â”‚
        â†“                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GeofenceContext     â”‚         â”‚ API POST             â”‚
â”‚ currentLocation     â”‚         â”‚ /location/update     â”‚
â”‚ ActiveGeofence      â”‚         â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚
         â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚ Store in MongoDB   â”‚
         â”‚                     â”‚ locations {        â”‚
         â”‚                     â”‚   userId,          â”‚
         â”‚                     â”‚   lat, lng,        â”‚
         â”‚                     â”‚   accuracy,        â”‚
         â”‚                     â”‚   timestamp        â”‚
         â”‚                     â”‚ }                  â”‚
         â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚
         â†“                             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ GEOFENCE CHECK                         â”‚
    â”‚ Calculate Distance using Haversine     â”‚
    â”‚ Formula Between:                       â”‚
    â”‚ â€¢ Current Location                     â”‚
    â”‚ â€¢ Each Geofence Center                 â”‚
    â”‚                                        â”‚
    â”‚ distance = 2 * R * arcsin(sqrt(...))   â”‚
    â”‚                                        â”‚
    â”‚ If distance < geofence.radius:         â”‚
    â”‚   â†’ User is INSIDE geofence            â”‚
    â”‚ Else:                                  â”‚
    â”‚   â†’ User is OUTSIDE geofence           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚
    â†“ ENTRY             â†“ EXIT
    â”‚                   â”‚
    â”œâ”€ Was OUTSIDE      â”œâ”€ Was INSIDE
    â”‚  Now INSIDE       â”‚  Now OUTSIDE
    â”‚  â†’ TRIGGER        â”‚  â†’ TRIGGER
    â”‚    ENTRY EVENT    â”‚    EXIT EVENT
    â”‚                   â”‚
    â†“                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Entry Event      â”‚ â”‚ Exit Event       â”‚
â”‚                  â”‚ â”‚                  â”‚
â”‚ â€¢ Geofence ID    â”‚ â”‚ â€¢ Geofence ID    â”‚
â”‚ â€¢ Timestamp      â”‚ â”‚ â€¢ Timestamp      â”‚
â”‚ â€¢ Location Data  â”‚ â”‚ â€¢ Location Data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                    â”‚
         â†“                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ATTENDANCE AUTO CHECK-IN/OUT    â”‚
    â”‚                                 â”‚
    â”‚ Entry â†’ AUTO CHECK-IN           â”‚
    â”‚ Exit  â†’ AUTO CHECK-OUT          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â†’ Update AttendanceContext
             â”‚   â€¢ checkInTime/checkOutTime
             â”‚   â€¢ Current location
             â”‚   â€¢ Geofence ID
             â”‚
             â””â”€â†’ Send to Backend API
                 POST /attendance/check-in
                 POST /attendance/check-out
```

---

## ğŸ•’ Attendance Management Flow

### **Check-In â†’ Check-Out â†’ Metrics Calculation**

```
USER IN GEOFENCE
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Manual/Auto Check-In Triggeredâ”‚
â”‚ Location: Current GPS coords  â”‚
â”‚ Time: Now                     â”‚
â”‚ Geofence: Active              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ FRONTEND & BACKEND SYNC
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚
    â†“ FRONTEND                      â†“ BACKEND
    â”‚                               â”‚
UPDATE                          POST /attendance/check-in
CONTEXT                         BODY: {
    â”‚                             userId,
SEND TO                           checkInTime,
BACKEND                           location: {
    â”‚                               lat,
    â””â”€â”€â”€â”€â”€â”€â†’ API POST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ lng,
           /attendance/check-in     accuracy
             â”‚                     }
             â”‚                   }
             â”‚
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CREATE ATTENDANCE RECORD  â”‚
    â”‚ in MongoDB                â”‚
    â”‚                           â”‚
    â”‚ attendance {              â”‚
    â”‚   _id: ObjectId           â”‚
    â”‚   userId,                 â”‚
    â”‚   date,                   â”‚
    â”‚   checkInTime,            â”‚
    â”‚   checkOutTime: null,     â”‚
    â”‚   checkInLocation: {      â”‚
    â”‚     latitude,             â”‚
    â”‚     longitude,            â”‚
    â”‚     accuracy              â”‚
    â”‚   },                      â”‚
    â”‚   checkOutLocation: null, â”‚
    â”‚   geofenceId,             â”‚
    â”‚   status: 'checked-in'    â”‚
    â”‚ }                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ RESPONSE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ {                          â”‚
    â”‚   success: true,           â”‚
    â”‚   record: {                â”‚
    â”‚     id,                    â”‚
    â”‚     checkInTime,           â”‚
    â”‚     location               â”‚
    â”‚   }                        â”‚
    â”‚ }                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ FRONTEND UPDATE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AttendanceContext          â”‚
    â”‚ currentSession = {         â”‚
    â”‚   checkInTime,             â”‚
    â”‚   checkOutTime: null,      â”‚
    â”‚   geofenceId               â”‚
    â”‚ }                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


============ DURING THE DAY ============


USER EXITS GEOFENCE
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Exit Event Triggered         â”‚
â”‚ Location: Outside Geofence   â”‚
â”‚ Time: Now                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“ FIND ACTIVE SESSION

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check AttendanceContext     â”‚
    â”‚ currentSession exists?      â”‚
    â”‚ checkInTime exists?         â”‚
    â”‚ checkOutTime == null?       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ YES
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Calculate Working Hours     â”‚
    â”‚                             â”‚
    â”‚ hours = (NOW - checkIn) ms  â”‚
    â”‚ minutes = hours / 60000     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“ Send Check-Out
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /attendance/check-out  â”‚
    â”‚ BODY: {                     â”‚
    â”‚   userId,                   â”‚
    â”‚   checkOutTime,             â”‚
    â”‚   location: {               â”‚
    â”‚     lat, lng, accuracy      â”‚
    â”‚   },                        â”‚
    â”‚   workingMinutes            â”‚
    â”‚ }                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UPDATE ATTENDANCE RECORD      â”‚
    â”‚ in MongoDB                    â”‚
    â”‚                              â”‚
    â”‚ db.attendance.updateOne(     â”‚
    â”‚   { _id: recordId },         â”‚
    â”‚   {                          â”‚
    â”‚     $set: {                  â”‚
    â”‚       checkOutTime,          â”‚
    â”‚       checkOutLocation,      â”‚
    â”‚       workingHours,          â”‚
    â”‚       status: 'checked-out'  â”‚
    â”‚     }                        â”‚
    â”‚   }                          â”‚
    â”‚ )                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DETERMINE STATUS            â”‚
    â”‚                             â”‚
    â”‚ Compare checkInTime with    â”‚
    â”‚ office opening time (9 AM)  â”‚
    â”‚                             â”‚
    â”‚ If checkIn > 9:00 AM:       â”‚
    â”‚   status = 'LATE'           â”‚
    â”‚ Else:                       â”‚
    â”‚   status = 'PRESENT'        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE                    â”‚
    â”‚ {                           â”‚
    â”‚   success: true,            â”‚
    â”‚   record: {                 â”‚
    â”‚     id,                     â”‚
    â”‚     checkOutTime,           â”‚
    â”‚     workingHours,           â”‚
    â”‚     status                  â”‚
    â”‚   }                         â”‚
    â”‚ }                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FRONTEND UPDATE             â”‚
    â”‚ currentSession = null       â”‚
    â”‚ Records refreshed           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


============ METRICS CALCULATION ============


        â†“
    ON DEMAND OR
    DAILY AUTO
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Fetch Attendance Records         â”‚
â”‚ Date Range: 30 days              â”‚
â”‚ GET /attendance/records?start=... â”‚
â”‚            &end=...              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Query MongoDB                   â”‚
    â”‚                                â”‚
    â”‚ db.attendance.find({           â”‚
    â”‚   userId,                      â”‚
    â”‚   date: {                      â”‚
    â”‚     $gte: startDate,           â”‚
    â”‚     $lte: endDate              â”‚
    â”‚   }                            â”‚
    â”‚ })                             â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CALCULATE METRICS             â”‚
    â”‚                              â”‚
    â”‚ totalPresent = count status  â”‚
    â”‚   === 'present'              â”‚
    â”‚ totalLate = count status     â”‚
    â”‚   === 'late'                 â”‚
    â”‚ totalAbsent = count status   â”‚
    â”‚   === 'absent'               â”‚
    â”‚                              â”‚
    â”‚ totalWorkingHours = sum of   â”‚
    â”‚   all workingHours           â”‚
    â”‚                              â”‚
    â”‚ averageDailyHours =          â”‚
    â”‚   totalWorkingHours /        â”‚
    â”‚   totalDays                  â”‚
    â”‚                              â”‚
    â”‚ attendanceRate =             â”‚
    â”‚   (totalPresent /            â”‚
    â”‚    totalWorkingDays) * 100   â”‚
    â”‚                              â”‚
    â”‚ punctualityRate =            â”‚
    â”‚   (totalPresent /            â”‚
    â”‚    (totalPresent+totalLate)) â”‚
    â”‚    * 100                     â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Store/Update Metrics in       â”‚
    â”‚ MongoDB                       â”‚
    â”‚                              â”‚
    â”‚ metrics {                    â”‚
    â”‚   userId,                    â”‚
    â”‚   period,                    â”‚
    â”‚   totalPresent,              â”‚
    â”‚   totalLate,                 â”‚
    â”‚   totalAbsent,               â”‚
    â”‚   totalWorkingHours,         â”‚
    â”‚   averageDailyHours,         â”‚
    â”‚   attendanceRate,            â”‚
    â”‚   punctualityRate,           â”‚
    â”‚   generatedAt                â”‚
    â”‚ }                            â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Return Metrics to Frontend    â”‚
    â”‚ Update Context & UI           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ºï¸ Geofence Management Flow

### **CRUD Operations on Geofences**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GEOFENCE MANAGEMENT SCREEN                          â”‚
â”‚  â€¢ List all geofences                                â”‚
â”‚  â€¢ Add new geofence                                  â”‚
â”‚  â€¢ Edit existing geofence                           â”‚
â”‚  â€¢ Delete geofence                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

==================== CREATE ====================

USER CLICKS "ADD GEOFENCE"
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Form Modal Opens                    â”‚
â”‚ Input Fields:                       â”‚
â”‚ â€¢ Name (text)                       â”‚
â”‚ â€¢ Latitude (decimal)                â”‚
â”‚ â€¢ Longitude (decimal)               â”‚
â”‚ â€¢ Radius (meters)                   â”‚
â”‚ â€¢ Type (office/branch/field)        â”‚
â”‚ â€¢ Address (optional)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â†“ SUBMIT
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Validate Form Data      â”‚
    â”‚ â€¢ Required fields       â”‚
    â”‚ â€¢ Valid coordinates     â”‚
    â”‚ â€¢ Valid radius (1-5000) â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ VALID
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ POST /geofence/create   â”‚
    â”‚ BODY: {                 â”‚
    â”‚   name,                 â”‚
    â”‚   latitude,             â”‚
    â”‚   longitude,            â”‚
    â”‚   radius,               â”‚
    â”‚   type,                 â”‚
    â”‚   address               â”‚
    â”‚ }                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CREATE GEOFENCE DOC in MongoDB    â”‚
    â”‚                                  â”‚
    â”‚ geofences {                      â”‚
    â”‚   _id: ObjectId,                 â”‚
    â”‚   userId,                        â”‚
    â”‚   name,                          â”‚
    â”‚   latitude,                      â”‚
    â”‚   longitude,                     â”‚
    â”‚   radius,                        â”‚
    â”‚   type,                          â”‚
    â”‚   address,                       â”‚
    â”‚   createdAt,                     â”‚
    â”‚   updatedAt                      â”‚
    â”‚ }                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                         â”‚
    â”‚ {                                â”‚
    â”‚   success: true,                 â”‚
    â”‚   geofence: { id, name, ... }    â”‚
    â”‚ }                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update GeofenceContext           â”‚
    â”‚ Add to geofences array           â”‚
    â”‚ Refresh UI                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


==================== READ ====================

USER OPENS GEOFENCE SCREEN
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /geofence/list                  â”‚
â”‚ Query Parameters: userId             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Query MongoDB                â”‚
    â”‚                             â”‚
    â”‚ db.geofences.find({        â”‚
    â”‚   userId                   â”‚
    â”‚ })                         â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                   â”‚
    â”‚ [                          â”‚
    â”‚   {                        â”‚
    â”‚     id, name, lat, lng,    â”‚
    â”‚     radius, type,          â”‚
    â”‚     address, createdAt     â”‚
    â”‚   }                        â”‚
    â”‚ ]                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update GeofenceContext           â”‚
    â”‚ geofences array refreshed        â”‚
    â”‚ Display in list                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


==================== UPDATE ====================

USER CLICKS "EDIT" ON GEOFENCE
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Form Modal Opens (Pre-filled)       â”‚
â”‚ Fields populate with current data   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ USER MODIFIES FIELDS
              â”‚ (e.g., radius)
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ SUBMIT CHANGES          â”‚
    â”‚ Validate new data       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ VALID
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PUT /geofence/update/:id     â”‚
    â”‚ BODY: {                      â”‚
    â”‚   name (optional),           â”‚
    â”‚   latitude (optional),       â”‚
    â”‚   longitude (optional),      â”‚
    â”‚   radius (optional),         â”‚
    â”‚   type (optional)            â”‚
    â”‚ }                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UPDATE GEOFENCE DOC in MongoDB  â”‚
    â”‚                                â”‚
    â”‚ db.geofences.updateOne(       â”‚
    â”‚   { _id: geofenceId },        â”‚
    â”‚   {                           â”‚
    â”‚     $set: {                   â”‚
    â”‚       ... updated fields ...  â”‚
    â”‚       updatedAt: NOW          â”‚
    â”‚     }                         â”‚
    â”‚   }                           â”‚
    â”‚ )                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                       â”‚
    â”‚ {                              â”‚
    â”‚   success: true,               â”‚
    â”‚   geofence: { updated data }   â”‚
    â”‚ }                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update GeofenceContext           â”‚
    â”‚ Modify in geofences array        â”‚
    â”‚ Refresh UI                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


==================== DELETE ====================

USER CLICKS "DELETE" ON GEOFENCE
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CONFIRMATION ALERT               â”‚
â”‚ "Are you sure?"                  â”‚
â”‚ [Cancel] [Delete]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ YES/DELETE
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DELETE /geofence/delete/:id â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ DELETE GEOFENCE DOC from MongoDBâ”‚
    â”‚                                â”‚
    â”‚ db.geofences.deleteOne({      â”‚
    â”‚   _id: geofenceId             â”‚
    â”‚ })                            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                       â”‚
    â”‚ {                              â”‚
    â”‚   success: true,               â”‚
    â”‚   message: "Deleted"           â”‚
    â”‚ }                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update GeofenceContext           â”‚
    â”‚ Remove from geofences array      â”‚
    â”‚ Refresh UI                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Analytics & Reports Flow

### **Data Aggregation â†’ Metrics Calculation â†’ Report Generation**

```
USER OPENS REPORTS/INSIGHTS
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select Report Period             â”‚
â”‚ â€¢ Last 7 Days                    â”‚
â”‚ â€¢ Last 30 Days                   â”‚
â”‚ â€¢ Last 90 Days                   â”‚
â”‚ â€¢ This Year                      â”‚
â”‚ â€¢ Custom Range                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“ CALCULATE DATE RANGE
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ startDate = Today - X days   â”‚
    â”‚ endDate = Today              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ GET /analytics/report                â”‚
    â”‚ Query Params: {                     â”‚
    â”‚   startDate,                        â”‚
    â”‚   endDate,                          â”‚
    â”‚   userId,                           â”‚
    â”‚   type: 'summary' | 'detailed'      â”‚
    â”‚ }                                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ BACKEND: Fetch from MongoDB          â”‚
    â”‚                                     â”‚
    â”‚ QUERY: db.attendance.find({        â”‚
    â”‚   userId,                         â”‚
    â”‚   date: {                         â”‚
    â”‚     $gte: startDate,              â”‚
    â”‚     $lte: endDate                 â”‚
    â”‚   }                               â”‚
    â”‚ })                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ AGGREGATE DATA                       â”‚
    â”‚                                     â”‚
    â”‚ For each record:                   â”‚
    â”‚ â€¢ Count present/late/absent/leave â”‚
    â”‚ â€¢ Sum working hours               â”‚
    â”‚ â€¢ Group by date                   â”‚
    â”‚ â€¢ Calculate daily average         â”‚
    â”‚ â€¢ Find trends                     â”‚
    â”‚ â€¢ Calculate trends (up/down)      â”‚
    â”‚                                   â”‚
    â”‚ attendance: 18                   â”‚
    â”‚ late: 2                          â”‚
    â”‚ absent: 0                        â”‚
    â”‚ leave: 0                         â”‚
    â”‚ totalHours: 360                  â”‚
    â”‚ avgDaily: 9.2                    â”‚
    â”‚ trend: +5% (vs prev period)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ GENERATE INSIGHTS                    â”‚
    â”‚                                     â”‚
    â”‚ â€¢ Performance Score: 0-100        â”‚
    â”‚ â€¢ Key Observations                â”‚
    â”‚ â€¢ Recommendations                 â”‚
    â”‚ â€¢ Consistency Score               â”‚
    â”‚ â€¢ Punctuality Analysis            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                            â”‚
    â”‚ {                                  â”‚
    â”‚   success: true,                  â”‚
    â”‚   report: {                       â”‚
    â”‚     summary: {...metrics...},    â”‚
    â”‚     breakdown: {...by date...}, â”‚
    â”‚     insights: [...],            â”‚
    â”‚     trends: {...},              â”‚
    â”‚     downloadUrl: "..."          â”‚
    â”‚   }                              â”‚
    â”‚ }                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Display Report on Frontend       â”‚
    â”‚ â€¢ Summary statistics             â”‚
    â”‚ â€¢ Progress bars                  â”‚
    â”‚ â€¢ Charts & graphs                â”‚
    â”‚ â€¢ Key insights                   â”‚
    â”‚ â€¢ Export/Share button            â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“ USER CLICKS "EXPORT"
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Generate PDF/CSV Report          â”‚
    â”‚ Or Share via Email               â”‚
    â”‚ â€¢ Compile all data               â”‚
    â”‚ â€¢ Format nicely                  â”‚
    â”‚ â€¢ Download or send               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”” Notifications Flow

### **Event Triggered â†’ Create Notification â†’ Display to User**

```
GEOFENCE ENTRY/EXIT EVENT
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GeofenceEvent Triggered          â”‚
â”‚ â€¢ Check-in detected              â”‚
â”‚ â€¢ Check-out detected             â”‚
â”‚ â€¢ Alert condition                â”‚
â”‚ â€¢ System message                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CREATE LOCAL NOTIFICATION        â”‚
    â”‚ (Frontend - React Context)       â”‚
    â”‚                                 â”‚
    â”‚ NotificationContext.addNotif..  â”‚
    â”‚ {                               â”‚
    â”‚   type: 'check-in' |            â”‚
    â”‚          'check-out' |          â”‚
    â”‚          'alert' |              â”‚
    â”‚          'info'                 â”‚
    â”‚   title: "Check-in Success"     â”‚
    â”‚   message: "You checked in at   â”‚
    â”‚             Main Office"        â”‚
    â”‚   timestamp: NOW                â”‚
    â”‚   read: false                   â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ALSO SEND TO BACKEND (Optional)  â”‚
    â”‚                                 â”‚
    â”‚ POST /notifications/create      â”‚
    â”‚ BODY: {                         â”‚
    â”‚   userId,                       â”‚
    â”‚   type,                         â”‚
    â”‚   title,                        â”‚
    â”‚   message,                      â”‚
    â”‚   data: {...}                   â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ STORE IN MONGODB                â”‚
    â”‚                                 â”‚
    â”‚ notifications {                 â”‚
    â”‚   _id: ObjectId,                â”‚
    â”‚   userId,                       â”‚
    â”‚   type,                         â”‚
    â”‚   title,                        â”‚
    â”‚   message,                      â”‚
    â”‚   timestamp,                    â”‚
    â”‚   read: false,                  â”‚
    â”‚   data: {...},                  â”‚
    â”‚   expiresAt (7 days)            â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                        â”‚
    â”‚ {                               â”‚
    â”‚   success: true,                â”‚
    â”‚   notification: {...}           â”‚
    â”‚ }                               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FRONTEND: Display Notification   â”‚
    â”‚                                 â”‚
    â”‚ Toast/Alert shows:              â”‚
    â”‚ "âœ“ Checked in at Main Office"   â”‚
    â”‚                                 â”‚
    â”‚ Auto-dismiss after 5 seconds    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ADD TO NOTIFICATION CENTER      â”‚
    â”‚ (Badge counter +1)               â”‚
    â”‚ User can view history            â”‚
    â”‚ Mark as read                     â”‚
    â”‚ Delete notifications             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


============ FETCH NOTIFICATIONS ============

USER OPENS NOTIFICATION CENTER
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GET /notifications/list      â”‚
â”‚ Query: {                     â”‚
â”‚   userId,                    â”‚
â”‚   limit: 50,                 â”‚
â”‚   skip: 0                    â”‚
â”‚ }                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Query MongoDB               â”‚
    â”‚                            â”‚
    â”‚ db.notifications.find({   â”‚
    â”‚   userId                 â”‚
    â”‚ }).sort({                â”‚
    â”‚   timestamp: -1          â”‚
    â”‚ }).limit(50)             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â†“â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ RESPONSE:                   â”‚
    â”‚ [                          â”‚
    â”‚   {                        â”‚
    â”‚     id,                    â”‚
    â”‚     type,                  â”‚
    â”‚     title,                 â”‚
    â”‚     message,               â”‚
    â”‚     timestamp,             â”‚
    â”‚     read                   â”‚
    â”‚   }                        â”‚
    â”‚ ]                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Display in Notification Center   â”‚
    â”‚ â€¢ Show all notifications        â”‚
    â”‚ â€¢ Unread at top                 â”‚
    â”‚ â€¢ Mark as read option           â”‚
    â”‚ â€¢ Delete option                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Frontend Data Flow (React Native Components)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMPONENT HIERARCHY                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RootLayout (_layout.tsx)
  â”‚
  â”œâ”€ AuthProvider (Manages user auth state)
  â”‚  â”‚
  â”œâ”€ GeofenceProvider (Manages location & geofences)
  â”‚  â”‚
  â”œâ”€ AttendanceProvider (Manages attendance records)
  â”‚  â”‚
  â”œâ”€ NotificationProvider (Manages notifications)
  â”‚  â”‚
  â””â”€ Stack Navigator
      â”‚
      â”œâ”€ Welcome Screen (index/welcome.tsx)
      â”‚   â””â”€ Login/Signup Buttons
      â”‚
      â”œâ”€ Auth Screens (auth/)
      â”‚   â”œâ”€ Login Screen
      â”‚   â”‚   â””â”€ useAuth hook â†’ AuthContext
      â”‚   â”‚
      â”‚   â””â”€ Signup Screen
      â”‚       â””â”€ useAuth hook â†’ AuthContext
      â”‚
      â””â”€ Tabs Navigation (tabs/)
          â”‚
          â”œâ”€ Dashboard (index.tsx)
          â”‚   â””â”€ useAttendance â†’ Current Check-in Status
          â”‚   â””â”€ useGeofence â†’ Current Location
          â”‚   â””â”€ Notifications Badge
          â”‚
          â”œâ”€ Attendance History (attendance.tsx)
          â”‚   â””â”€ useAttendance â†’ Fetch & Display Records
          â”‚   â””â”€ Filter by Date/Status
          â”‚
          â”œâ”€ Insights (insights.tsx)
          â”‚   â””â”€ useAttendance â†’ Calculate Metrics
          â”‚   â””â”€ Performance Score
          â”‚   â””â”€ Trend Analysis
          â”‚
          â”œâ”€ Reports (reports.tsx)
          â”‚   â””â”€ useAttendance â†’ Period-based Reports
          â”‚   â””â”€ Export/Share Functions
          â”‚
          â”œâ”€ Geofence Management (geofence-management.tsx)
          â”‚   â””â”€ useGeofence â†’ CRUD Operations
          â”‚   â””â”€ Add/Edit/Delete Geofences
          â”‚
          â””â”€ Map View (fence.tsx)
              â””â”€ useGeofence â†’ Display Map
              â””â”€ Show Current Location
              â””â”€ Show Geofences
```

---

## ğŸ’¾ MongoDB Database Schema

### **Collections & Document Structure**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 MONGODB COLLECTIONS                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. USERS COLLECTION
   {
     _id: ObjectId,
     email: String (unique, indexed),
     password: String (hashed),
     firstName: String,
     lastName: String,
     role: String (admin/manager/employee),
     department: String,
     phone: String,
     createdAt: DateTime,
     updatedAt: DateTime,
     lastLogin: DateTime,
     isActive: Boolean
   }

2. ATTENDANCE COLLECTION
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     date: Date,
     checkInTime: DateTime,
     checkOutTime: DateTime | null,
     checkInLocation: {
       latitude: Double,
       longitude: Double,
       accuracy: Number
     },
     checkOutLocation: {
       latitude: Double,
       longitude: Double,
       accuracy: Number
     } | null,
     geofenceId: String,
     workingHours: Number (in minutes),
     status: String (present/absent/late/half-day/on-leave),
     notes: String,
     deviceId: String,
     createdAt: DateTime,
     updatedAt: DateTime
   }
   Index: { userId, date }, { userId, createdAt }

3. GEOFENCES COLLECTION
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     name: String,
     latitude: Double,
     longitude: Double,
     radius: Number (in meters),
     type: String (office/branch/field),
     address: String,
     description: String,
     isActive: Boolean,
     createdAt: DateTime,
     updatedAt: DateTime
   }
   Index: { userId }

4. NOTIFICATIONS COLLECTION
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     type: String (check-in/check-out/alert/info/warning),
     title: String,
     message: String,
     timestamp: DateTime,
     read: Boolean,
     actionUrl: String,
     data: Mixed Object,
     expiresAt: DateTime (TTL: 7 days)
   }
   Index: { userId, timestamp }, TTL: { expiresAt }

5. METRICS COLLECTION
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     period: String (daily/weekly/monthly),
     dateStart: Date,
     dateEnd: Date,
     totalPresent: Number,
     totalAbsent: Number,
     totalLate: Number,
     totalLeave: Number,
     totalWorkingHours: Number,
     averageDailyHours: Double,
     attendanceRate: Double (percentage),
     punctualityRate: Double (percentage),
     performanceScore: Number (0-100),
     generatedAt: DateTime
   }
   Index: { userId, period, dateStart }

6. LOCATIONS COLLECTION (Optional - for history)
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     latitude: Double,
     longitude: Double,
     accuracy: Number,
     altitude: Number,
     speed: Number,
     heading: Number,
     timestamp: DateTime,
     geofenceId: String,
     isInsideGeofence: Boolean
   }
   Index: { userId, timestamp }, TTL: { timestamp: 30 days }

7. SESSIONS COLLECTION (Optional - for active sessions)
   {
     _id: ObjectId,
     userId: ObjectId (ref: users),
     deviceId: String,
     token: String (JWT),
     loginTime: DateTime,
     expiresAt: DateTime,
     ipAddress: String,
     userAgent: String,
     isActive: Boolean
   }
   Index: { userId, deviceId }, TTL: { expiresAt }
```

---

## ğŸ”„ API Endpoints Summary

### **RESTful API Endpoints Between Frontend & Backend**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AUTHENTICATION ENDPOINTS                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST   /api/auth/signup
       Request: { firstName, lastName, email, password }
       Response: { success, token, user }

POST   /api/auth/login
       Request: { email, password }
       Response: { success, token, user }

POST   /api/auth/logout
       Headers: { Authorization: Bearer token }
       Response: { success }

POST   /api/auth/refresh
       Headers: { Authorization: Bearer token }
       Response: { token }


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ATTENDANCE ENDPOINTS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

POST   /api/attendance/check-in
       Headers: { Authorization: Bearer token }
       Body: { geofenceId, location: { lat, lng, acc } }
       Response: { success, record }

POST   /api/attendance/check-out
       Headers: { Authorization: Bearer token }
       Body: { location: { lat, lng, acc } }
       Response: { success, record, workingHours }

GET    /api/attendance/records
       Headers: { Authorization: Bearer token }
       Query: { startDate, endDate, status, limit, skip }
       Response: { success, records, total }

GET    /api/attendance/records/:date
       Headers: { Authorization: Bearer token }
       Response: { success, record }

GET    /api/attendance/metrics
       Headers: { Authorization: Bearer token }
       Query: { period: 30, startDate, endDate }
       Response: { success, metrics }


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GEOFENCE ENDPOINTS                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/geofence/list
       Headers: { Authorization: Bearer token }
       Response: { success, geofences }

POST   /api/geofence/create
       Headers: { Authorization: Bearer token }
       Body: { name, lat, lng, radius, type, address }
       Response: { success, geofence }

GET    /api/geofence/:id
       Headers: { Authorization: Bearer token }
       Response: { success, geofence }

PUT    /api/geofence/:id
       Headers: { Authorization: Bearer token }
       Body: { name, lat, lng, radius, type, address }
       Response: { success, geofence }

DELETE /api/geofence/:id
       Headers: { Authorization: Bearer token }
       Response: { success }


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NOTIFICATION ENDPOINTS                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/notifications/list
       Headers: { Authorization: Bearer token }
       Query: { limit, skip, read }
       Response: { success, notifications, total }

PUT    /api/notifications/:id/read
       Headers: { Authorization: Bearer token }
       Response: { success }

PUT    /api/notifications/read-all
       Headers: { Authorization: Bearer token }
       Response: { success }

DELETE /api/notifications/:id
       Headers: { Authorization: Bearer token }
       Response: { success }


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ANALYTICS/REPORTS ENDPOINTS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/analytics/report
       Headers: { Authorization: Bearer token }
       Query: { startDate, endDate, type }
       Response: { success, report, metrics, insights }

GET    /api/analytics/trends
       Headers: { Authorization: Bearer token }
       Query: { period: 7/30/90 }
       Response: { success, trends }

GET    /api/analytics/export
       Headers: { Authorization: Bearer token }
       Query: { startDate, endDate, format: pdf/csv }
       Response: downloadable file


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER ENDPOINTS                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/user/profile
       Headers: { Authorization: Bearer token }
       Response: { success, user }

PUT    /api/user/profile
       Headers: { Authorization: Bearer token }
       Body: { firstName, lastName, phone }
       Response: { success, user }

PUT    /api/user/password
       Headers: { Authorization: Bearer token }
       Body: { currentPassword, newPassword }
       Response: { success }
```

---

## ğŸ¯ Key Data Flow Diagram (Complete)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     COMPLETE DATA FLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER DEVICE (Frontend - React Native)
â”‚
â”œâ”€ Auth State
â”‚  â”œâ”€ user (id, email, name)
â”‚  â”œâ”€ token (JWT)
â”‚  â””â”€ isAuthenticated (boolean)
â”‚
â”œâ”€ Location State
â”‚  â”œâ”€ currentLocation (lat, lng, accuracy)
â”‚  â”œâ”€ activeGeofence (current fence)
â”‚  â””â”€ isInsideGeofence (boolean)
â”‚
â”œâ”€ Attendance State
â”‚  â”œâ”€ records (array of AttendanceRecord)
â”‚  â”œâ”€ currentSession (checkIn, checkOut, geofenceId)
â”‚  â””â”€ metrics (performance data)
â”‚
â”œâ”€ Geofence State
â”‚  â””â”€ geofences (array of Geofence)
â”‚
â””â”€ Notification State
   â””â”€ notifications (array, unreadCount)
     â”‚
     â†“ HTTP/REST API
     â”‚
SERVER (Backend API - Node.js/Express)
â”‚
â”œâ”€ Authentication Service
â”‚  â”œâ”€ JWT Generation
â”‚  â”œâ”€ Password Hashing
â”‚  â””â”€ Token Verification
â”‚
â”œâ”€ Attendance Service
â”‚  â”œâ”€ Check-in/out Logic
â”‚  â”œâ”€ Metrics Calculation
â”‚  â””â”€ Report Generation
â”‚
â”œâ”€ Geofence Service
â”‚  â”œâ”€ CRUD Operations
â”‚  â”œâ”€ Location Validation
â”‚  â””â”€ Distance Calculation
â”‚
â”œâ”€ Notification Service
â”‚  â”œâ”€ Event Publishing
â”‚  â”œâ”€ Notification Creation
â”‚  â””â”€ Push Notifications
â”‚
â””â”€ Analytics Service
   â”œâ”€ Data Aggregation
   â”œâ”€ Trend Analysis
   â””â”€ Report Export
     â”‚
     â†“ Database Queries
     â”‚
MONGODB DATABASE
â”‚
â”œâ”€ users â†’ authentication & user profile
â”œâ”€ attendance â†’ all check-in/out records
â”œâ”€ geofences â†’ location-based fences
â”œâ”€ notifications â†’ user notifications
â”œâ”€ metrics â†’ calculated analytics data
â”œâ”€ locations â†’ location history (optional)
â””â”€ sessions â†’ active sessions (optional)
```

---

## ğŸš€ Real-Time Sync Process

```
FRONTEND (React Native App)                    BACKEND (Server)
                                               â”‚
Location Data Updates                          â”‚
â”‚                                              â”‚
â”œâ”€ Every 10-30 seconds                        â”‚
â”‚  GPS coordinates collected                  â”‚
â”‚  from device                                â”‚
â”‚                                              â”‚
â”œâ”€ Update Local Context                       â”‚
â”‚  GeofenceContext.currentLocation            â”‚
â”‚                                              â”‚
â”œâ”€ Check Geofence Entry/Exit                 â”‚
â”‚  â€¢ Calculate distance                       â”‚
â”‚  â€¢ Compare with radius                      â”‚
â”‚  â€¢ Trigger entry/exit event                â”‚
â”‚                                              â”‚
â”œâ”€ If Entry: Call Check-in API               â”‚
â”‚                                              â”‚
â”‚  POST /attendance/check-in â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Save to DB
â”‚  { location, geofenceId }                  â”œâ”€ Create record
â”‚                                             â”œâ”€ Update metrics
â”‚                                             â””â”€ Send response
â”‚                                              â”‚
â”‚                               â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                               Response OK    â”‚
â”‚                                              â”‚
â”œâ”€ Update Local State                        â”‚
â”‚  â€¢ currentSession.checkInTime               â”‚
â”‚  â€¢ Show notification                       â”‚
â”‚                                              â”‚
â””â”€ Display UI Update                         â”‚
   â€¢ Check-in time badge                     â”‚
   â€¢ Current status indicator                â”‚
   â€¢ Working hours timer                     â”‚
```

---

## ğŸ“‹ Data Exchange Summary

### **What Frontend Sends to Backend**

```
1. Authentication
   âœ“ email, password, firstName, lastName
   âœ“ JWT token in headers

2. Attendance
   âœ“ geofenceId, checkInTime, checkOutTime
   âœ“ location (latitude, longitude, accuracy)
   âœ“ workingMinutes/Hours

3. Geofences
   âœ“ name, latitude, longitude, radius, type
   âœ“ address, description

4. Notifications
   âœ“ notification type, title, message
   âœ“ read status

5. Analytics
   âœ“ date ranges (startDate, endDate)
   âœ“ period (week/month/quarter/year)
   âœ“ export format (pdf/csv)
```

### **What Backend Sends to Frontend**

```
1. Authentication
   âœ“ JWT token, user object (id, email, name)
   âœ“ success/error messages

2. Attendance
   âœ“ All attendance records
   âœ“ Calculated metrics (rate, hours, status)
   âœ“ Individual record details

3. Geofences
   âœ“ List of all geofences with full details
   âœ“ Updated geofence after CRUD operations

4. Notifications
   âœ“ List of notifications (paginated)
   âœ“ Notification details

5. Analytics
   âœ“ Comprehensive report data
   âœ“ Trends, insights, observations
   âœ“ Performance score & recommendations
```

---

## âœ… Complete Workflow Example: User's Day

```
8:00 AM - User Opens App
          â”œâ”€ App checks JWT token validity
          â”œâ”€ Redirects to auth if expired
          â””â”€ Shows dashboard if valid

8:05 AM - User Arrives at Office (Inside Geofence)
          â”œâ”€ GPS detects entry
          â”œâ”€ Geofence distance < radius
          â”œâ”€ AUTO CHECK-IN triggered
          â”‚  â””â”€ POST /attendance/check-in
          â”‚     â””â”€ MongoDB record created
          â”œâ”€ Frontend updates context
          â”œâ”€ Notification: "âœ“ Checked in at Main Office"
          â””â”€ Dashboard shows: "Checked in at 8:05 AM"

12:30 PM - User Lunch Break (Still in Geofence)
          â”œâ”€ User remains inside radius
          â”œâ”€ No action taken
          â””â”€ Continues shift

5:30 PM - User Leaves Office (Outside Geofence)
          â”œâ”€ GPS detects exit
          â”œâ”€ Geofence distance > radius
          â”œâ”€ AUTO CHECK-OUT triggered
          â”‚  â””â”€ POST /attendance/check-out
          â”‚     â”œâ”€ Calculate working hours
          â”‚     â”œâ”€ Determine status (on-time/late)
          â”‚     â””â”€ MongoDB record updated
          â”œâ”€ Frontend updates context
          â”œâ”€ Notification: "âœ“ Checked out from Main Office"
          â””â”€ Dashboard shows: "Worked 9h 25m"

6:00 PM - User Opens Reports
          â”œâ”€ Clicks on "Analytics"
          â”œâ”€ GET /analytics/report (past 30 days)
          â”œâ”€ Backend aggregates all records
          â”‚  â””â”€ Calculates metrics from MongoDB
          â”œâ”€ Displays:
          â”‚  â”œâ”€ Attendance: 18/20 days (90%)
          â”‚  â”œâ”€ Punctuality: 95%
          â”‚  â”œâ”€ Avg Daily Hours: 9.1
          â”‚  â””â”€ Performance Score: 92/100
          â””â”€ User can export as PDF/CSV

7:00 PM - User Manages Geofences
          â”œâ”€ Opens Geofence Management
          â”œâ”€ Views all geofences (from MongoDB)
          â”œâ”€ Clicks "Add New"
          â”œâ”€ Fills form (name, lat, lng, radius)
          â”œâ”€ POST /geofence/create
          â”œâ”€ Backend saves to MongoDB
          â”œâ”€ Frontend updates GeofenceContext
          â””â”€ New geofence appears in list
```

---

## ğŸ“ Summary

**GeoAttend** is a complete attendance management system with:

1. **Frontend**: React Native app with Redux/Context for state
2. **Backend**: REST API (Node.js/Express)
3. **Database**: MongoDB for persistent storage
4. **Features**:
   - GPS-based auto check-in/out
   - Real-time geofence detection
   - Attendance analytics & reports
   - Notification system
   - Multi-geofence support

**Data Flow**: User GPS â†’ Geofence Check â†’ Auto Attendance â†’ Metrics Calculation â†’ Reports & Insights

All data is synchronized between frontend and backend, with MongoDB as the single source of truth.

